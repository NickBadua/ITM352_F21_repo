<script>
/*
This is a sample sales receipt for a sale.
*/

// Product Data
    
  var product_quantities = [0,2,3,4,5];

  // array of all products
// corresponds to product_quantities array
// product_quantities[i] is the quantity for products[i]
    products = [
    { 'name': 'small gumball', 'price': 0.02 },
    { 'name': 'medium gumball', 'price': 0.05 },
    { 'name': 'large gumball', 'price': 0.07 },
    { 'name': 'small jawbreaker', 'price': 0.06 },
    { 'name': 'large jawbreaker', 'price': 0.10 }
    ];

document.write(`
    <table style="border: 1px solid black;text-align: center;">
    <tbody><tr style="border: 1px solid black;"><th style="border: 1px solid black;">Product Name</th><th>Price</th></tr>
  `);

  for(let prodObj of products) {
      document.write(`
          <tr style="border: 1px solid black;"><td style="border: 1px solid black;">${prodObj.name}</td><td>${prodObj.price}</td></tr>
  `);

}
  document.write(`</tbody></table>`);

//  document.write(product_quantities[20]);


// Product 1
      
  var product1 = {};
  product1.item = 'Gillette Sensor 3 Razor';
  product1.price = 1.23;

 // var product1 = {"item": 'Gillette Sensor 3 Razor', "quantity": 2, "price": 1.23};

     // Product 2
     var item2 = 'Shaving Cream';
     var price2 = 4.30;

     // Product 3
     var item3 = 'Comb';
     var price3 = 2.25;

     // Product 4
     var item4 = 'Toothbrush';
     var price4 = 3.42;

     // Product 5
     var item5 = 'Floss';
     var price5 = 1.90;

    // change product1 quantity to 0
    //product1.quantity = 0;

    // add SKU#
    //product1["SKU#"] = 123;

    //delete SKU#
    //delete product1["SKU#"];

    //Compute extended prices
    var extended_price1 = product1.price * product_quantities[0];
    var extended_price2 = price2 * product_quantities[1];
    var extended_price3 = price3 * product_quantities[2];
    var extended_price4 = price4 * product_quantities[3];
    var extended_price5 = price5 * product_quantities[4];

    //Compute Sub-total
    var subtotal = extended_price1 + extended_price2 + extended_price3 + extended_price4 + extended_price5;
    
    //Compute Sales Tax
    var tax = .0575;
    var salestax = subtotal * tax;

    //Compute Grand Total
    var total = subtotal + salestax;

</script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <table border="2">
        <tbody>
          <tr>
            <th style="text-align: center;" width="43%">Item</th>
            <th style="text-align: center;" width="11%">quantity</th>
            <th style="text-align: center;" width="13%">price</th>
            <th style="text-align: center;" width="54%">extended price</th>
          </tr>
          <script>
              document.write(`
          
            <tr>
            <td width="43%">${product1.item}</td>
            <td align="center" width="11%">${product_quantities[0]}</td>
            <td width="13%">$${product1.price}</td>
            <td width="54%">$${extended_price1}</td>
          </tr>

          <tr>
            <td width="43%">${item2}</td>
            <td align="center" width="11%">${product_quantities[1]}</td>
            <td width="13%">$${price2}</td>
            <td width="54%">$${extended_price2}</td>
          </tr>

          <tr>
            <td width="43%">${item3}</td>
            <td align="center" width="11%">${product_quantities[2]}</td>
            <td width="13%">$${price3}</td>
            <td width="54%">$${extended_price3}</td>
          </tr>
          
          <tr>
            <td width="43%">${item4}</td>
            <td align="center" width="11%">${product_quantities[3]}</td>
            <td width="13%">$${price4}</td>
            <td width="54%">$${extended_price4}</td>
          </tr>

          <tr>
            <td width="43%">${item5}</td>
            <td align="center" width="11%">${product_quantities[4]}</td>
            <td width="13%">$${price5}</td>
            <td width="54%">$${extended_price5}</td>
          </tr>

            `)
        </script>
          <tr>
            <td colspan="4" width="100%">&nbsp;</td>
          </tr>
          <tr>
            
            <td style="text-align: center;" colspan="3" width="67%">Sub-total</td>
            <td width="54%">$<script>document.write(subtotal.toFixed(2))</script></td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Tax @ <script>document.write(tax*100)</script>%</span></td>
            <td width="54%">$<script>document.write(salestax.toFixed(2))</script></td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%"><span style="font-family: arial;">Shipping</span></td>
            <td width="54%"><script>
              //Computing shipping cost for sales up to $49.99
              if (subtotal < 50) {
                var shipping = 2;
              //Computing shipping cost for sales up to $99.99 
              } else if (subtotal < 100) {
                var shipping = 5;
              //Computing shipping cost for sales $100 and over
              } else {
                var shipping = .05;
              }
              //Displaying 5%
              if (shipping < 1) {
              document.write((shipping * 100) + "%");
              //Displaying numerical
              } else {
              document.write("$" + shipping.toFixed(2));
              }
            </script>
            </td>
          </tr>
          <tr>
            <td style="text-align: center;" colspan="3" width="67%"><strong>Total</strong></td>
            <td width="54%"><b>$<script>
              //Calculating total for costs under $100
              if (shipping > 1){ 
              document.write((shipping + total).toFixed(2))
              //Calculating total for costs over $100
              } else {
              document.write ((shipping * subtotal) + total);
              }
            </script></b></td>
              </tr>
        </tbody>
      </table>
    
      <br>
<b>
  OUR SHIPPING POLICY IS:A subtotal $0 - $49.99 will be $2 shipping<br>
A subtotal $50 - $99.99 will be $5 shipping<br>
Subtotals over $100 will be charged 5% of the subtotal amount<br> 
</b>
      
</body>
</html>